(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,function(t,e,n){t.exports=n(21)},,,,,,function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var i=n(0),a=n(2),r=n(4),o=n(3),l=n(7),u=n(5),s=n(1),c=n.n(s),h=n(9),f=n.n(h);n(16);var d=function(){return c.a.createElement("section",{className:"documentation"},"Documentation",c.a.createElement("br",null),c.a.createElement("p",null,"TODO: This area will show information about things under the cursor in the layout editor."))},m=(n(17),function(t){function e(t){var n;return Object(i.a)(this,e),(n=Object(r.a)(this,Object(o.a)(e).call(this,t))).state={activeTab:t.children[0].props.label},n.handleTabClicked=function(t){return n.setState({activeTab:t})},n}return Object(u.a)(e,t),Object(a.a)(e,[{key:"render",value:function(){var t=this,e=this.props.children.map(function(e){var n=e.props.label===t.state.activeTab?"tab tab--active":"tab";return c.a.createElement("p",{key:e.props.label,className:n,onClick:function(){return t.handleTabClicked(e.props.label)}},e.props.label)}),n=this.props.children.find(function(e){return e.props.label===t.state.activeTab});return c.a.createElement("div",{className:"expand"},c.a.createElement("div",{className:"tabList"},e),n)}}]),e}(c.a.Component)),v=(n(18),function(t){function e(t){var n;return Object(i.a)(this,e),(n=Object(r.a)(this,Object(o.a)(e).call(this,t))).handleChange=n.handleChange.bind(Object(l.a)(n)),n}return Object(u.a)(e,t),Object(a.a)(e,[{key:"handleChange",value:function(t){this.props.onLayoutChanged(t.target.value)}},{key:"render",value:function(){return c.a.createElement("textarea",{className:"expand",onChange:this.handleChange,value:this.props.initialLayout})}}]),e}(c.a.Component)),b=function(){return c.a.createElement("p",null,"Code",c.a.createElement("br",null),"TODO")},p=function(t){function e(){return Object(i.a)(this,e),Object(r.a)(this,Object(o.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(a.a)(e,[{key:"render",value:function(){return c.a.createElement("section",{className:"editor"},c.a.createElement(m,null,c.a.createElement(v,{label:"layout",onLayoutChanged:this.props.handleLayoutChanged,initialLayout:this.props.initialLayout}),c.a.createElement(b,{label:"code"})))}}]),e}(c.a.Component),g=(n(19),function(){function t(e){Object(i.a)(this,t),this._value="undefined"===typeof e?null:e}return Object(a.a)(t,[{key:"bind",value:function(t){return null==this._value?this:t(this._value)}},{key:"isSome",value:function(){return null!==this._value}},{key:"value",value:function(){return this._value}}],[{key:"Some",value:function(e){return new t(e)}},{key:"None",value:function(){return new t}}]),t}());var y=function(){function t(e){Object(i.a)(this,t),this.items="undefined"!==typeof e?[e]:[],this.type=I.List}return Object(a.a)(t,[{key:"add",value:function(t){this.items.push(t)}}]),t}(),S=function t(e){Object(i.a)(this,t),this.value=e,this.type=I.BoolLiteral},w=function t(e){Object(i.a)(this,t),this.value=e,this.type=I.IntLiteral},O=function t(e){Object(i.a)(this,t),this.value=e,this.type=I.StringLiteral},j=function t(e){Object(i.a)(this,t),this.value=e,this.type=I.Symbol},k=function t(e,n,a){Object(i.a)(this,t),this.message=e,this.line=n,this.column=a},C=function(){function t(e,n,a){Object(i.a)(this,t),this.name=e,this.values=n,this.length=a}return Object(a.a)(t,[{key:"startsWith",value:function(t){return this.name.value===t}},{key:"get",value:function(t,e){return this.values.items[t].type===e?g.Some(this.values.items[t]):g.None()}}]),t}(),L=Object.freeze({Grid:Symbol("Grid"),ListView:Symbol("ListView")}),x=Object.freeze({Label:Symbol("Label")}),N=Object.freeze({Container:Symbol("Container"),Element:Symbol("Element")});function W(t){return t.startsWith("grid")?g.Some([N.Container,L.Grid]):t.startsWith("list-view")?g.Some([N.Container,L.ListView]):t.startsWith("label")?g.Some([N.Element,x.Label]):g.None()}function E(t){return t.type!==I.List?g.None():0===t.items.length?g.None():t.items[0].type!==I.Symbol?g.None():g.Some(new C(t.items[0],t,t.items.length))}function z(t){switch(t){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return!0;default:return!1}}var G=Object.freeze({None:Symbol("none"),Int:Symbol("int"),Float:Symbol("float"),String:Symbol("string")}),I=Object.freeze({Symbol:Symbol("Symbol"),IntLiteral:Symbol("IntLiteral"),FloatLiteral:Symbol("FloatLiteral"),StringLiteral:Symbol("StringLiteral"),BoolLiteral:Symbol("BoolLiteral"),List:Symbol("List")});var T=n(6),P=function t(){Object(i.a)(this,t),this.meta=null,this.backgroundColour="",this.fontColour="",this.margins={vertical:0,horizontal:0},this.padding={vertical:0,horizontal:0},this.horizontalAlignment=R.Start,this.verticalAlignment=R.Start,this.fontSize=14},R=Object.freeze({Start:Symbol("Start"),Center:Symbol("Center"),End:Symbol("End")});var D=function(){function t(e){Object(i.a)(this,t),this.parent=null,this.backgroundColour=e.backgroundColour,this.fontColour=e.fontColour,this.horizontalAlignment=e.horizontalAlignment,this.verticalAlignment=e.verticalAlignment,e.margins.vertical<0||e.margins.horizontal<0||(this.margins=e.margins),e.padding.vertical<0||e.padding.horizontal<0||(this.padding=e.padding)}return Object(a.a)(t,[{key:"getParent",value:function(){return this.parent}},{key:"setParent",value:function(t){this.parent=t}},{key:"getBounds",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null==t&&(t=this.parent.getChildBounds(this));var e=2*this.margins.horizontal;t.width>e&&(t.width-=e,t.x+=this.margins.horizontal);var n=2*this.margins.vertical;return t.height>n&&(t.height-=n,t.y+=this.margins.vertical),t}}]),t}(),F=function(t){function e(){var t;return Object(i.a)(this,e),(t=Object(r.a)(this,Object(o.a)(e).call(this))).caption="",t}return Object(u.a)(e,t),e}(P),B=function(t){function e(t){var n;return Object(i.a)(this,e),(n=Object(r.a)(this,Object(o.a)(e).call(this,t))).caption=t.caption,n}return Object(u.a)(e,t),Object(a.a)(e,[{key:"render",value:function(t,e,n){var i=this.caption.value;e=this.getBounds(e),t.drawRectangle(this.backgroundColour,e,n),null!==i&&t.drawText(i,e,n,this.backgroundColour)}}],[{key:"Create",value:function(t){return new e(t)}}]),e}(D);var M=Object.freeze({Grid:Symbol("GridNamespace")}),A=function t(e,n,a){Object(i.a)(this,t),this.containerNamespace=e,this.metaId=n,this.value=a};function q(t,e){var n=t.values.items.length;if(n<2)return g.None();for(var i=1;i<n;i++){if(!E(t.values.items[i]).bind(function(t){return t.startsWith("row")&&2===t.length?t.get(1,I.IntLiteral).bind(function(t){return e.push(new A(M.Grid,Z.Row,t.value)),g.Some(1)}):t.startsWith("column")&&2===t.length?t.get(1,I.IntLiteral).bind(function(t){return e.push(new A(M.Grid,Z.Column,t.value)),g.Some(1)}):t.startsWith("row-span")&&2===t.length?t.get(1,I.IntLiteral).bind(function(t){return e.push(new A(M.Grid,Z.RowSpan,t.value)),g.Some(1)}):t.startsWith("column-span")&&2===t.length?t.get(1,I.IntLiteral).bind(function(t){return e.push(new A(M.Grid,Z.ColumnSpan,t.value)),g.Some(1)}):g.None()}).isSome())return g.None()}return g.Some(t)}function _(t){if(t.items.length<2)return g.None();for(var e=[],n=1;n<t.items.length;n++){if(!E(t.items[n]).bind(function(t){return t.startsWith("grid")?q(t,e):g.Some(1)}).isSome())return g.None()}return g.Some(e)}var V=function(t){function e(){return Object(i.a)(this,e),Object(r.a)(this,Object(o.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(a.a)(e,[{key:"requestTextLayout",value:function(t){null!=this.parent&&this.parent.requestTextLayout(t)}},{key:"requestRender",value:function(t){null!=this.parent&&this.parent.requestRender(t)}}]),e}(D),H=function t(e,n){Object(i.a)(this,t),this.element=e,this.bounds=n};function U(t,e){if(1===t.items.length)return null;for(var n=1;n<t.items.length;n++){var i=!0,a=E(t.items[n]);if(a.isSome()){if(2!==(a=a.value()).length)return!1;var r=a.get(1,I.IntLiteral);r.isSome()&&(a.startsWith("vertical")?(e.vertical=r.value().value,i=!1):a.startsWith("horizontal")&&(e.horizontal=r.value().value,i=!1))}if(i)return!1}return!0}function J(t){return"start"===t?R.Start:"center"===t?R.Center:"end"===t?R.End:null}function K(t){return 2!==t.length?g.None():function(t){return t.get(1,I.List).bind(function(t){return E(t)}).bind(function(t){return t.startsWith("rgb")?4!==t.length?g.None():t.get(1,I.IntLiteral).bind(function(e){return t.get(2,I.IntLiteral).bind(function(n){return t.get(3,I.IntLiteral).bind(function(t){return g.Some("rgb("+e.value+","+n.value+","+t.value+")")})})}):(t.startsWith("bind")&&console.log("TODO: colour binding not supported"),g.None())})}(t)}function Q(t,e){var n=E(t);if(n.isSome())if((n=n.value()).startsWith("background")){var i=K(n);if(!i.isSome())return!1;e.backgroundColour=i.value()}else if(n.startsWith("font-colour")){var a=K(n);if(!a.isSome())return!1;e.fontColour=a.value()}else{if(n.startsWith("margins"))return U(n.values,e.margins);if(n.startsWith("padding"))return U(n.values,e.padding);if(n.startsWith("alignment"))return function(t,e){if(1===t.items.length)return null;for(var n=1;n<t.items.length;n++){var i=!0,a=E(t.items[n]);if(a.isSome()){if(2!==(a=a.value()).length)return!1;var r=a.get(1,I.Symbol);if(r.isSome())if(a.startsWith("vertical")){var o=J(r.value().value);null!==o&&(e.verticalAlignment=o,i=!1)}else if(a.startsWith("horizontal")){var l=J(r.value().value);null!==l&&(e.horizontalAlignment=l,i=!1)}}if(i)return!1}return!0}(n.values,e);if(n.startsWith("font-size")){if(2!==n.length)return!1;var r=n.get(1,I.IntLiteral);if(!r.isSome())return!1;e.fontSize=r.value()}}return!0}function X(t,e,n){switch(e){case x.Label:return function(t){if(t.type!==I.List)return g.None();var e=new F,n=!0,i=!0,a=!1,r=void 0;try{for(var o,l=function(){var t=o.value;return n?(n=!1,t.type!==I.Symbol||"label"!==t.value?{v:g.None()}:"continue"):E(t).bind(function(n){if(n.startsWith("caption")){if(2!==n.length)return g.None();n.get(1,I.StringLiteral).bind(function(t){return e.caption=t})}else if(n.startsWith("meta"))e.meta=n.values;else if(!Q(t,e))return g.None();return g.Some(n)}).isSome()?void 0:{v:g.None()}},u=t.items[Symbol.iterator]();!(i=(o=u.next()).done);i=!0){var s=l();switch(s){case"continue":continue;default:if("object"===typeof s)return s.v}}}catch(c){a=!0,r=c}finally{try{i||null==u.return||u.return()}finally{if(a)throw r}}return g.Some(e)}(n.values).bind(function(t){return g.Some([t,B.Create(t)])}).bind(function(e){var n=Object(T.a)(e,2),i=n[0],a=n[1];if(null!=i.meta){var r=_(i.meta);r.isSome()?t.addChild(a,r.value()):t.addChild(a)}else t.addChild(a);return g.Some(a)});default:return g.None()}}var Y=function t(e,n,a,r){Object(i.a)(this,t),this.x=e,this.y=n,this.width=a,this.height=r},Z=Object.freeze({Row:1,Column:2,RowSpan:3,ColumnSpan:4}),$=function(t){function e(){var t;return Object(i.a)(this,e),(t=Object(r.a)(this,Object(o.a)(e).call(this))).row=0,t.column=0,t.rowSpan=0,t.columnSpan=0,t}return Object(u.a)(e,t),e}(H);function tt(t,e){return new Y(e.startingPosition,t.startingPosition,e.actualSpace,t.actualSpace)}function et(t,e,n){var i=new Y(e[n.column].startingPosition,t[n.row].startingPosition,e[n.column].actualSpace,t[n.row].actualSpace);if(n.rowSpan>0){var a=t[n.row+n.rowSpan-1];i.height=a.startingPosition+a.actualSpace-i.y}if(n.columnSpan>0){var r=e[n.column+n.columnSpan-1];i.width=r.startingPosition+r.actualSpace-i.x}return i}var nt=function(t){function e(t){var n;return Object(i.a)(this,e),(n=Object(r.a)(this,Object(o.a)(e).call(this,t))).children=[],n.rows=t.rows,n.columns=t.columns,n.rowGap=t.rowGap,n.columnGap=t.columnGap,n.itemSource=null,n.itemTemplate=null,n}return Object(u.a)(e,t),Object(a.a)(e,[{key:"addChild",value:function(t,e){var n=new $;n.element=t,"undefined"!==typeof e&&this.applyMetaData(n,e),n.bounds=tt(this.rows[n.row],this.columns[n.column]),this.children.push(n),t.setParent(this)}},{key:"applyMetaData",value:function(t,e){var n=!0,i=!1,a=void 0;try{for(var r,o=e[Symbol.iterator]();!(n=(r=o.next()).done);n=!0){var l=r.value;if(l.containerNamespace===M.Grid)switch(l.metaId){case Z.Row:t.row=Math.max(0,Math.min(l.value,this.rows.length-1));break;case Z.Column:t.column=Math.max(0,Math.min(l.value,this.columns.length-1));break;case Z.RowSpan:t.rowSpan=l.value;break;case Z.ColumnSpan:t.columnSpan=l.value}}}catch(u){i=!0,a=u}finally{try{n||null==o.return||o.return()}finally{if(i)throw a}}t.rowSpan>0&&((t.row=t.rowSpan)>this.rows.length&&(t.rowSpan=this.rows.length-t.row));t.columnSpan>0&&(t.column+t.columnSpan>this.columns.length&&(t.columnSpan=this.columns.length-t.column))}},{key:"allocateDefinitionSpace",value:function(t,e,n,i){var a=0;i.value>0&&(e-=i.value*(t.length-1));var r=!0,o=!1,l=void 0;try{for(var u,s=t[Symbol.iterator]();!(r=(u=s.next()).done);r=!0){var c=u.value;if(c.unit===at.Fixed){if(!(e>0))break;var h=Math.min(e,c.desiredSpace);c.actualSpace=h,e-=h}else a+=c.desiredSpace}}catch(C){o=!0,l=C}finally{try{r||null==s.return||s.return()}finally{if(o)throw l}}if(a>0&&e>0){var f=e/a,d=!0,m=!1,v=void 0;try{for(var b,p=t[Symbol.iterator]();!(d=(b=p.next()).done);d=!0){var g=b.value;g.unit===at.Proportional&&(g.actualSpace=f*g.desiredSpace)}}catch(C){m=!0,v=C}finally{try{d||null==p.return||p.return()}finally{if(m)throw v}}}var y=!0,S=!1,w=void 0;try{for(var O,j=t[Symbol.iterator]();!(y=(O=j.next()).done);y=!0){var k=O.value;k.startingPosition=n,n+=k.actualSpace+i.value}}catch(C){S=!0,w=C}finally{try{y||null==j.return||j.return()}finally{if(S)throw w}}}},{key:"calculateGridDimensions",value:function(){var t=this.getBounds();this.allocateDefinitionSpace(this.rows,t.height,t.y,this.rowGap),this.allocateDefinitionSpace(this.columns,t.width,t.x,this.columnGap)}},{key:"layoutChildren",value:function(){if(0!==this.children.length){this.calculateGridDimensions();var t=!0,e=!1,n=void 0;try{for(var i,a=this.children[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var r=i.value;r.rowSpan>0||r.columnSpan>0?r.bounds=et(this.rows,this.columns,r):r.bounds=tt(this.rows[r.row],this.columns[r.column]),r.element instanceof V&&r.element.layoutChildren()}}catch(o){e=!0,n=o}finally{try{t||null==a.return||a.return()}finally{if(e)throw n}}}}},{key:"getChildBounds",value:function(t){var e=!0,n=!1,i=void 0;try{for(var a,r=this.children[Symbol.iterator]();!(e=(a=r.next()).done);e=!0){var o=a.value;if(o.element===t)return o.bounds}}catch(l){n=!0,i=l}finally{try{e||null==r.return||r.return()}finally{if(n)throw i}}return new Y}},{key:"render",value:function(t,e,n){var i=!0,a=!1,r=void 0;try{for(var o,l=this.children[Symbol.iterator]();!(i=(o=l.next()).done);i=!0){var u=o.value;u.element.render(t,u.bounds,e)}}catch(s){a=!0,r=s}finally{try{i||null==l.return||l.return()}finally{if(a)throw r}}}}]),e}(V),it=function(t){function e(){var t;return Object(i.a)(this,e),(t=Object(r.a)(this,Object(o.a)(e).call(this))).rows=[],t.columns=[],t.items=null,t.rowGap=0,t.columnGap=0,t.itemSource=null,t.itemTemplate=null,t}return Object(u.a)(e,t),e}(P),at=Object.freeze({Proportional:Symbol("Proportional"),Fixed:Symbol("Fixed")}),rt=function t(e,n){Object(i.a)(this,t),this.unit=e,this.desiredSpace=n,this.actualSpace=0,this.startingPosition=0};function ot(t,e,n,i){if(1===t.items.length)return!1;for(var a=1;a<t.items.length;a++){if(!E(t.items[a]).bind(function(t){return t.get(1,I.IntLiteral).bind(function(a){if(t.startsWith(n))e.push(new rt(at.Proportional,a.value));else{if(!t.startsWith(i))return g.None();e.push(new rt(at.Fixed,a.value))}return g.Some(1)})}).isSome())return!1}return!0}function lt(t){return new nt(t)}function ut(t,e){return null===e||e.type!==I.List?g.None():E(e).bind(function(e){return function(t,e){var n=!0,i=!0,a=!1,r=void 0;try{for(var o,l=t.values.items[Symbol.iterator]();!(i=(o=l.next()).done);i=!0){var u=o.value;if(n){if(u.type!==I.Symbol||"items"!==u.value)return g.None();n=!1}else if(!E(u).bind(function(t){return W(t).bind(function(e){return g.Some([t,e])})}).bind(function(t){var n=Object(T.a)(t,2),i=n[0],a=n[1];return a[0]===N.Container?st(e,a[1],i):X(e,a[1],i)}).isSome())return g.None()}}catch(s){a=!0,r=s}finally{try{i||null==l.return||l.return()}finally{if(a)throw r}}return g.Some(e)}(e,t)})}function st(t,e,n){switch(e){case L.Grid:return function(t){if(t.type!==I.List)return g.None();var e=new it,n=!0,i=!0,a=!1,r=void 0;try{for(var o,l=function(){var t=o.value;return n?(n=!1,t.type!==I.Symbol||"grid"!==t.value?{v:g.None()}:"continue"):E(t).bind(function(n){if(n.startsWith("rows")){if(!ot(n.values,e.rows,"proportional-height","fixed-height"))return g.None()}else if(n.startsWith("columns")){if(!ot(n.values,e.columns,"proportional-width","fixed-width"))return g.None()}else if(n.startsWith("items"))e.items=n.values;else if(n.startsWith("item-source")){var i=n.get(1,I.List);i.isSome()&&(e.itemSource=i.value())}else if(n.startsWith("item-template")){var a=n.get(1,I.List);a.isSome()&&(e.itemTemplate=a.value())}else if(n.startsWith("meta"))e.meta=n.values;else if(n.startsWith("row-gap")){if(2!==n.length)return g.None();var r=n.get(1,I.IntLiteral);if(!r.isSome())return g.None();e.rowGap=r.value()}else if(n.startsWith("column-gap")){if(2!==n.length)return g.None();var o=n.get(1,I.IntLiteral);if(!o.isSome())return g.None();e.columnGap=o.value()}else if(!Q(t,e))return g.None();return g.Some(n)}).isSome()?void 0:{v:g.None()}},u=t.items[Symbol.iterator]();!(i=(o=u.next()).done);i=!0){var s=l();switch(s){case"continue":continue;default:if("object"===typeof s)return s.v}}}catch(c){a=!0,r=c}finally{try{i||null==u.return||u.return()}finally{if(a)throw r}}return g.Some(e)}(n.values).bind(function(t){return g.Some([t,lt(t)])}).bind(function(t){var e=Object(T.a)(t,2),n=e[0],i=e[1];return g.Some([n,ut(i,n.items)])}).bind(function(e){var n=Object(T.a)(e,2),i=n[0];return function(t,e,n){if(!t.isSome())return g.None();if(t=t.value(),null!==n){var i=_(n);i.isSome()?e.addChild(t,i.value()):e.addChild(t)}else e.addChild(t);return g.Some(t)}(n[1],t,i.meta)});case L.ListView:break;default:return g.None()}return g.None()}var ct=function(t){function e(t){var n;return Object(i.a)(this,e),(n=Object(r.a)(this,Object(o.a)(e).call(this,new P))).child=null,n.canvas=t,n.renderer=null,n}return Object(u.a)(e,t),Object(a.a)(e,[{key:"addChild",value:function(t){this.child=t,this.child.setParent(this)}},{key:"setRenderer",value:function(t){this.renderer=t}},{key:"layoutChildren",value:function(){null!=this.child&&this.child.layoutChildren()}},{key:"getChildBounds",value:function(t){return new Y(0,0,this.canvas.clientWidth,this.canvas.clientHeight)}},{key:"render",value:function(){if(null!=this.child){var t=this.getChildBounds(null);this.child.render(this.renderer,t,t)}}}]),e}(V),ht=function(){function t(e){Object(i.a)(this,t),this.canvas=e,this.context=this.canvas.getContext("2d")}return Object(a.a)(t,[{key:"clear",value:function(){this.context.fillStyle="rgba(255,255,255,1)",this.context.fillRect(0,0,this.canvas.width,this.canvas.height)}},{key:"drawRectangle",value:function(t,e,n){var i=this.canvas.clientWidth,a=this.canvas.clientHeight;if(!(e.x>=i||e.y>=a)){var r=e.x,o=e.y,l=e.width,u=e.height;e.x<n.x&&(r=n.x,l-=n.x-e.x),e.y<n.y&&(o=n.y,u-=n.y-e.y),r+l>=n.x+n.width&&(l=n.x+n.width-r),o+u>=n.y+n.height&&(u=n.y+n.height-o),l<0||u<0||(this.context.fillStyle=t,this.context.fillRect(r,o,l,u))}}},{key:"drawText",value:function(t,e,n,i){this.context.fillStyle="rgb(0,0,0)",this.context.fillText(t,e.x,e.y)}}]),t}(),ft=function(t){function e(t){var n;return Object(i.a)(this,e),(n=Object(r.a)(this,Object(o.a)(e).call(this,t))).canvas=null,n.context=null,n.display=c.a.createElement("section",{className:"display"},c.a.createElement("canvas",{id:"framebuffer",className:"fullsize",ref:function(t){n.canvas=t}})),n}return Object(u.a)(e,t),Object(a.a)(e,[{key:"componentDidMount",value:function(){var t=this.canvas.parentElement.clientWidth,e=this.canvas.parentElement.clientHeight;this.canvas.height=e,this.canvas.width=this.canvas.height*(t/e),this.renderer=new ht(this.canvas),this.window=new ct(this.canvas),this.window.setRenderer(this.renderer)}},{key:"componentDidUpdate",value:function(){var t=function(t){for(var e,n,i=[],a=[],r=0,o=0,l=new y,u=0;u<t.length;u++){var s=t[u];switch(o++,s){case"(":case"[":case"{":i.push(s),a.push(new y);break;case")":case"]":case"}":if(0===i.length||0===a.length)return new k("Unexpected closing bracket",r,o);if(e=i[i.length-1],n=s,!("("===e?")"===n:"["===e?"]"===n:"{"===e?"}"===n:void 0))return new k("Mismatched bracket",r,o);var c=a.pop();if(0===a.length)l.add(c);else{var h=a[a.length-1];if(!(h instanceof y))return new k("Expected list",r,o);h.add(c)}break;case"\n":r++,o=0;break;case" ":case"\t":continue;default:var f=a[a.length-1];if(!(f instanceof y))return new k("Expected list",r,o);var d=G.None;if(z(s))d=G.Int;else if('"'===s)d=G.String;else{if("true"===t.slice(u,4)&&" )]}".includes(t[u+4])){f.add(new S(!0)),u+=4;continue}if("false"===t.slice(u,5)&&" )]}".includes(t[u+5])){f.add(new S(!1)),u+=5;continue}}for(var m=!1,v=u;v<t.length;v++){switch(s=t[v],d){case G.Int:if("."===s)d=G.Float;else if(!z(s)){m=!0;break}break;case G.Float:if("."===s)return new k("Unexpected second '.' in float literal",r,o);if(!z(s)){m=!0;break}break;case G.String:'"'===s&&v>u&&(v++,m=!0);break;case G.None:"("!==s&&")"!==s&&"\n"!==s&&" "!==s&&"\t"!==s||(m=!0);break;default:return new k("This isn't possible",r,o)}if(m)break}var b=t.slice(u,v);switch(d){case G.Int:f.add(new w(Number.parseInt(b)));break;case G.Float:return new k("Float parsing not implemented",r,o);case G.String:f.add(new O(t.slice(u+1,v-1)));break;case G.None:f.add(new j(b));break;default:return new k("This isn't possible",r,o)}u+=v-u-1}}return l}(this.props.layout);if(null!==this.renderer&&this.renderer.clear(),null!==t)try{null!=function(t,e){var n=E(t).bind(function(t){return W(t).bind(function(e){return g.Some([t,e])})}).bind(function(t){var n=Object(T.a)(t,2),i=n[0],a=n[1];return a[0]===N.Container?st(e,a[1],i):g.None()});return n.isSome()?n.value():null}(t.items[0],this.window)&&(this.window.layoutChildren(),this.window.render())}catch(e){console.log(e)}}},{key:"render",value:function(){return this.display}}]),e}(c.a.Component),dt=(n(20),'(grid\n    (margins (vertical 20) (horizontal 20))\n\n    (rows \n        (proportional-height 1)\n        (fixed-height 50)\n        (proportional-height 2))\n\n    (columns \n        (proportional-width 1)\n        (proportional-width 1))\n\n    (row-gap 20)\n    (column-gap 10)\n\n    (items \n        (label (caption "Padded Label")\n            (padding (vertical 50) (horizontal 100))\n            (font-colour (rgb 122 22 23))\n            (background (rgb 38 66 251)))\n        (label (caption "Second")\n            (background (rgb 24 205 4))\n            (font-colour (rgb 0 0 0))\n            (meta (grid (column 1))))\n\n        (label (caption "cant bind yet")\n            (background (rgb 69 69 69))\n            (meta (grid (row 1))))\n        (label (caption "<- that one was typed")\n            (background (rgb 37 13 37))\n            (meta (grid (row 1) (column 1))))\n\n        (label (caption "Margined Label")\n            (background (rgb 248 121 82))\n            (font-colour (rgb 169 5 40))\n            (margins (vertical 50) (horizontal 90))\n            (meta (grid (row 2))))\n\n        (grid\n\n            (rows \n                (proportional-height 2)\n                (proportional-height 1))\n\n            (columns \n                (proportional-width 1)\n                (proportional-width 1)\n                (proportional-width 1))\n\n            (row-gap 10)\n            (column-gap 10)\n\n            (items \n                (label (caption "a")\n                    (font-colour (rgb 10 10 10))\n                    (background (rgb 33 146 195)))\n                (label (caption "b")\n                    (background (rgb 62 16 140))\n                    (meta (grid (column 1))))\n                (label (caption "3")\n                    (font-colour (rgb 100 0 0))\n                    (background (rgb 241 220 69))\n                    (meta (grid (column 2))))\n\n                (label (caption "spans 3 columns")\n                    (background (rgb 12 87 117))\n                    (meta (grid (row 1) (column-span 3)))))\n\n            (meta (grid (row 2) (column 1))))))'),mt=function(t){function e(t){var n;return Object(i.a)(this,e),(n=Object(r.a)(this,Object(o.a)(e).call(this,t))).handleLayoutChanged=n.handleLayoutChanged.bind(Object(l.a)(n)),n.state={layout:""},setTimeout(function(){return n.handleLayoutChanged(dt)},300),n}return Object(u.a)(e,t),Object(a.a)(e,[{key:"handleLayoutChanged",value:function(t){this.setState({layout:t})}},{key:"render",value:function(){return c.a.createElement("main",{className:"app"},c.a.createElement(d,null),c.a.createElement(p,{handleLayoutChanged:this.handleLayoutChanged,initialLayout:this.state.layout}),c.a.createElement(ft,{layout:this.state.layout}))}}]),e}(c.a.Component);f.a.render(c.a.createElement(mt,null),document.querySelector("#root"))}],[[10,1,2]]]);
//# sourceMappingURL=main.889f1b87.chunk.js.map